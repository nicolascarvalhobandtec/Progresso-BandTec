<!DOCTYPE html>
<html lang="pt">

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Continuada2</title>
</head>

<body>

   <div id="div1" style="display: block;">
      <h3>Cadeiras amor</h3>
      <input id="loja" type="text" placeholder="Loja">
      <br>
      <input id="conta" type="text" placeholder="Conta">
      <br>
      <input id="digito" type="text" placeholder="Digito">
      <br><br>
      <button onclick="validar()">Validar</button>
   </div>

   <div id="divmsg" style="display: none;">
      <h3>Cadeiras amor</h3>
      <h3>Olá cliente entre com a sua senha</h3>
      <input id="senha" type="text" placeholder="Insira a senha"><br><br>
      <button onclick="entrar()">Entrar</button>
      
      <div id="msg"></div>
   </div>

   <div id="div2" style="display: none;">
      <h3>Cadeiras amor</h3>
      <select id="cadeiras" onchange="cadeira()">
         <option value="seleciona">selecione </option>
         <option value="praia">Cadeira de praia</option>
         <option value="jardim">cadeira de jardim</option>
      </select><br>
      <img src="" id="caimg" style="height: 150px;">
   </div><br>

   <div id="div3" style="display: none;">
      <select id="tipos" onchange="materiais()">
         <option value="selecione">Selecione</option>
         <option value="aluminio">Aluminio</option>
         <option value="plastico">Plastico</option>
         <option value="ferro">Ferro</option>
      </select>
   </div><br>

   <div id="div4" style="display: none;">
      <input type="text" id="ip1" placeholder="insira a quantidade de cadeiras">
      <button onclick="calcular()">Calcular</button><br>
      <div id="divmsg2"></div>
      <div id="divmsg3"></div>
   </div>

</body>

</html>
<script>
   
   var contador = 0;
   var digitoval = 0;



   function validar() {
      var resto = conta.value % loja.value
      if (loja.value >= 1 && loja.value <= 10) {
         if (conta.value <= 0) {
            alert('conta Inválida');

         }
         else if (digito.value == 1 && resto < 3) {
            div1.style = 'display:none';
            divmsg.style = 'display:block';


         } else if (digito.value == 2 && resto >= 3 && resto <= 6) {
            div1.style = 'display:none';
            divmsg.style = 'display:block';

         } else if (digito.value == 3 && resto > 6) {
            div1.style = 'display:none';
            divmsg.style = 'display:block';

         } else {
            alert('digito Inválido')
         }

      } else {
         alert('Loja Inválida')
      }
      digitoval = digito.value;
   }


   function entrar() {
      if (senha.value == "recife" && digitoval == 1) {
         div1.style = "display:none";
         divmsg.style = "display:none";
         div2.style = "display:block";
      } else if (digitoval == 2 && senha.value == "manaus") {
         div1.style = "display:none";
         divmsg.style = "display:none";
         div2.style = "display:block";
      } else if (digitoval == 3 && senha.value == "fortaleza") {
         div1.style = "display:none";
         divmsg.style = "display:none";
         div2.style = "display:block";
      } else {
         msg.innerHTML += "Senha invalida<br>";
         contador++;
         senha.value = ""
      } if (contador >= 4) {
         alert("Você excedeu o número de tentativas, sua conta está bloqueada, procure o suporte")
         div1.style = "display:block";
         divmsg.style = "display:none";
         contador = 0;
         loja.value = "";
         conta.value = "";
         digito.value = "";
         msg.innerHTML = "";
         senha.value = "";
      }


   }
   
   function cadeira() {
      if (cadeiras.value == "seleciona") {
         caimg.src = "";
         div3.style = "display:none";
         div4.style = "display:none";
         ip1.value="";
         divmsg2.innerHTML="";
         divmsg3.innerHTML="";
         tipos.value= ""
      } else if (cadeiras.value == "praia") {
         caimg.src = "imagens/praia.jpg";
         div3.style = "display:block";
         ip1.value="";
         divmsg2.innerHTML="";
         divmsg3.innerHTML="";
      } else if (cadeiras.value == "jardim") {
         caimg.src = "imagens/jardim.jpg";
         div3.style = "display:block";
         ip1.value="";
         divmsg2.innerHTML="";
         divmsg3.innerHTML="";
      }
   }

   function materiais() {
      if (tipos.value == "selecione") {
         div4.style = "display:none";
         ip1.value="";
         divmsg2.innerHTML="";
         divmsg3.innerHTML="";
      } else if (tipos.value == "aluminio") {
         div4.style = "display:block";
         ip1.value="";
         divmsg2.innerHTML="";
         divmsg3.innerHTML="";
      } else if (tipos.value == "plastico") {
         div4.style = "display:block";
         ip1.value="";
         divmsg2.innerHTML="";
         divmsg3.innerHTML="";
      } else if (tipos.value == "ferro") {
         div4.style = "display:block";
         ip1.value="";
         divmsg2.innerHTML="";
         divmsg3.innerHTML="";
      }
   }
   function calcular() {
      var cad_praia_aluminio = 75;
      var cad_praia_plastico = 50;
      var cad_praia_ferro = 80;

      var cad_jardim_aluminio = 70;
      var cad_jardim_plastico = 35;
      var cad_jardim_ferro = 55;

      var desconto = 1;
      var desconto2 = 0;

      if (sel_materiais.value == "ferro" || sel_materiais.value == "plastico") {
         desconto2 = 5;
      } else if (sel_materiais == "aluminio"){
         desconto2 = 3.5;
      }
      if (ip1.value > 50) {
         desconto = 0.97;
      }

      if (ip1.value > 0) {
      
      } else {
         alert("Valor Inválido!")

      } if (cadeiras.value == "praia" && sel_materiais.value == "aluminio") {
         var calculo = cad_praia_aluminio * Number(ip1.value) * desconto;

      } else if (cadeiras.value == "praia" && tipos.value == "plastico") {
         var total = cdpplastico * Number(ip1.value) * desconto;

      } else if (cadeiras.value == "praia" && tipos.value == "ferro") {
         var total = cdpferro * Number(ip1.value) * desconto;

      } else if (cadeiras.value == "jardim" && tipos.value == "aluminio") {
         var total = cdjaluminio * Number(ip1.value) * desconto;

      } else if (cadeiras.value == "jardim" && tipos.value == "plastico") {
         var total = cdjplastico * Number(ip1.value) * desconto;

      } else if (cadeiras.value == "jardim" && tipos.value == "ferro") {
         var total = cdjferro * Number(ip1.value) * desconto;

      } 
      divmsg2.innerHTML = `O orçamento para a compra de ${ip1.value} cadeiras de ${cadeiras.value} de ${tipos.value} é R$ ${total}<br>`;
      divmsg3.innerHTML = `Para pagamento a vista o desconto é de ${descontomat}% e seu pedido ficará por R$ ${total - total * (descontomat / 100)}`;
   }

</script>