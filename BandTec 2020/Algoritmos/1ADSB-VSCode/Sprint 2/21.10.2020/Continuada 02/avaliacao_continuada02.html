<!DOCTYPE html>
<html lang="pt">

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title> Avaliação Continuada 02 </title>
</head>
 <!-- 
    Instruções: 
        I. Você deve subir seu projeto aqui no MOODLE no formato HTML ou 
           ZIP caso você queira enviar as imagens junto com o seu html.

       II. Use somete os comandos ensinados em sala de aula.

 https://bandteccom-my.sharepoint.com/:v:/g/personal/claudio_frizzarini_bandtec_com_br/EbVaY3Tv-25EvcEf693_9aABlBgelVBecCnFYqpYcXwF_w?e=zSbuXY

 
Questão única:
 

CADEIRAMOR é uma fábrica de sel_cadeiras para praia e jardim 
que tem 10 lojas situadas no estado de São Paulo. 
Faça um programa em HTML/JS para automatizar o orçamento de vendas.

1. Tenha três campos de entrada – loja, conta e dígito e um botão “conferir”.


2. Ao clicar no botão validar os campos de entrada da seguinte forma:

    a) Se a loja está entre 1 e 10, caso contrário emitir alerta: “Loja invalida”;

    b) Emitir alerta “Conta invalida” se ela for menor ou igual a zero;

    c) O digito tem que ser 1 quando o resto da divisão 
       da conta pela loja for menor que 3.  
       O digito tem que ser 2 quando o resto da divisão da conta pela loja 
       estiver entre 3 e 6. O digito tem que ser 3 quando o resto da divisão 
       da conta pela loja for acima de 6. 
       Caso contrário emitir alerta: “Digito invalido”.


3. Quando loja, conta e digito estiverem válidos:

   a) Apagar o que está na tela e mostrar a mensagem “Olá cliente entre com a sua senha”.

   b) Abaixo da mensagem mostrar um campo para receber a senha;

   c) Abaixo da senha dois botões: “Limpar” e “Entrar”



4. Quando clicar no botão “Limpar”, apagar o conteúdo do campo senha.


5. Quando clicar no botão “Entrar”, validar a senha da seguinte forma:

   a) Se o digito for 1 a senha tem que ser “recife”

   b) Se o digito for 2 a senha tem que ser “manaus”

   c) Se o digito for 3 a senha tem que ser “fortaleza”.

   OBS1. A cada tentativa de senha invalida emitir uma 
   nova mensagem “senha invalida” (sem apagar a mensagem anterior).

   OBS2. Na quarta tentativa de senha invalida emitir um 
   alerta "Você excedeu o número de tentativas, 
   sua conta está bloqueada, PROCURE O SUPORTE" e voltar ao item a) 1.

   #ficadica, neste caso não esqueça de limpar o contador de tentativas e os campos de entrada.


6. Quando a senha for válida limpar tudo o que estava na tela 
   e mostrar uma combo select com as seguintes opções de produto: “cadeira de praia” e “cadeira de jardim”.


7. Ao selecionar um dos produtos mostrar uma foto da cadeira selecionada com 150 px de altura e abaixo da foto mostrar também nova combo select com as seguintes opções de materiaisial: “alumínio”, “plástico” e “ferro”.


8. Ao selecionar um dos materiaisiais, mostrar um campo para a entrada da quantidade de sel_cadeiras desejada e um botão “calcular”. A quantidade tem que ser maior que zero.


9. Quando o botão for clicado, calcular o valor do orçamento considerando que:

   a) Cada cadeira de praia de alumínio custa R$ 75,00

   b) Cada cadeira de praia de plástico custa R$ 50,00

   c) Cada cadeira de praia de ferro custa R$ 80,00

   d) Cada cadeira de jardim de alumínio custa R$ 70,00

   e) Cada cadeira de jardim de plástico custa R$ 35,00

   f) Cada cadeira de jardim de ferro custa R$ 55,00

   OBS1 - Para quantidade maior 50 conceder um desconto de 3%.


10. Abaixo do botão emitir a mensagem: 
    “O orçamento para a compra de xxx yyy de zzz é R$ 99,99”, 
    onde xxx = quantidade de sel_cadeiras, 
    yyy = é o produto selecionado, 
    zzz é o materiaisial escolhido e 
    99,99 é o valor do orçamento calculado.


11. Abaixo do item acima emitir a mensagem: 
    “Para pagamento a vista o desconto é de kk% e 
    seu pedido ficará por R$ 77,77”, onde: kk = 5% 
    se o materiaisial for “plástico” ou “ferro” ou 
    kk=3,5% se o materiaisial for “alumínio”;

BOM TRABALHO
 -->

<body>
  <h2> Fabricante de Cadeiras CADEIRAMOR </h2>

   <div id="registro" style="display: block">
      <input id="loja" type="text" placeholder="Loja">
      <br>
      <br>
      <input id="conta" type="text" placeholder="Conta">
      <br>
      <br>
      <input id="digito" type="text" placeholder="Dígito">
      <br>
      <br>
      <button onclick="conferir()"> Conferir! </button>
    </div>
   <div id="acesso" style="display: none">
      <h3> Olá, Cliente! Entre com a Sua Senha. </h3>
      <input id="senha" type="text" placeholder="Insira a Senha...">
      <br>
      <br>
      <button onclick="entrar()"> Entrar </button>
      <button onclick="limpar()"> Limpar </button>
   </div>
   <div id="outra_mensagem">

   </div>
<br>
   <div id="div_cadeiras" style="display: none">
   <select id="sel_cadeiras" onchange="encadeirar()">
              <option value="selecionar_cadeira"> --- Selecione Sua Cadeira --- </option>
              <option value="praia"> Cadeira de Praia </option>
              <option value="jardim"> Cadeira de Jardim </option>
           </select>
   <br> 
   <br>
   <img src="" id="cadeira" style="height: 150px;">
   <br>
   </div>
   <div id="div_material" style="display: none">
   <select id="sel_materiais" onchange="materializar()"> 
               <option value="selecionar_material"> --- Escolha Um Material --- </option>
               <option value="aluminio"> Alumínio </option>
               <option value="plastico"> Plástico </option>
               <option value="ferro"> Ferro </option>
            </select>
   </div>
   <br>
   <br>
   <div id="qtd_cadeiras" style="display: none">
      Insira a quantidade de cadeiras desejada: <input type="text" id="quantidade">
   <br>
   <br>
      <button onclick="calcular()"> Calcular! </button>
      <div id="mensagem_conta"></div>
      <div id="mensagem_conta2"></div>
   </div>
</body>
</html>

<script>
   function conferir() {

     var sobre_loja = loja.value;
     var sobre_conta = conta.value;

     var resto = sobre_loja % sobre_conta;

      if (sobre_loja >= 1 && sobre_loja <= 10) {
         alert (`Loja Válida!`);
      } else {
         alert (`Loja Inválida!`);
      }

      if (sobre_conta <= 0) {
         alert (`Conta Inválida!`);

      } else if (conta.value > 0) {
         alert (`Conta Válida!`);
      }

      if (digito.value == 1 && resto < 3) {
         alert (`Digito Válido!`);
         registro.style = `display: none`;
         acesso.style = `display: block`;

      } else if (digito.value == 2 && resto >= 3 && resto <= 6) {
         alert (`Digito Válido!`);
         registro.style = `display: none`;
         acesso.style = `display: block`;

      } else if (digito.value == 3 && resto > 6) {
         alert (`Digito Válido!`);
         registro.style = `display: none`;
         acesso.style = `display: block`;
      } else {
        alert (`Dígito Inválido!`)
      }
}

   var contagem = 0;
   function entrar() {

      if (digito.value == 1 && senha.value == `Recife`) {
         acesso.style.display = `none`;
         div_cadeiras.style.display = `block`;
         outra_mensagem.style.display = "none";

      } else if (digito.value == 2 && senha.value == `Manaus`) {
         acesso.style.display = `none`;
         div_cadeiras.style.display = `block`;
         outra_mensagem.style.display = "none";

      } else if (digito.value == 3 && senha.value == `Fortaleza`) {
         acesso.style.display = `none`;
         div_cadeiras.style.display = `block`;
         outra_mensagem.style.display = "none";

      } else {
         contagem++;
         outra_mensagem.innerHTML += `<br>Senha Inválida!`;
      }

      if (contagem >= 4) {
         alert (`Você excedeu o número de tentativas, sua conta está bloqueada. PROCURE O SUPORTE!`);
            senha.value = ``;
            contagem = 0;
            outra_mensagem.innerHTML = ``;
            registro.style = `display: block`;
            acesso.style = `display: none`;
      } 
}

   function limpar() {

      senha.value = ""
   }

   function encadeirar() {

      if (sel_cadeiras.value == `praia`) {
         cadeira.src = `img/cadeira_praia.jpg`;
         qtd_cadeiras.style.display = `block`; 
         div_material.style.display = `block`;

      } else if (sel_cadeiras.value == `jardim`) {
         cadeira.src = `img/cadeira_jardim.jpg`;
         qtd_cadeiras.style.display = `block`;
         div_material.style.display = `block`;

      } else {
         cadeira.src = "";
         div_material.style.display = `none`;
         qtd_cadeiras.style.display = `none`;
      }
   }

   function materializar() {

      if (sel_materiais.value == `aluminio`) {
         qtd_cadeiras.style.display = `block`;
         quantidade.value="";
         mensagem_conta.innerHTML="";
         mensagem_conta2.innerHTML="";

      } else if (sel_materiais.value == `plastico`) {
         qtd_cadeiras.style.display = `block`;
         quantidade.value="";
         mensagem_conta.innerHTML="";
         mensagem_conta2.innerHTML="";

      } else if (sel_materiais.value == `ferro`) {
         qtd_cadeiras.style = `display: block`;
         quantidade.value="";
         mensagem_conta.innerHTML="";
         mensagem_conta2.innerHTML="";

      } else {
         qtd_cadeiras.style = "display: none";
         quantidade.value="";
         mensagem_conta.innerHTML="";
         mensagem_conta2.innerHTML="";
   }
}

   function calcular() {
      var cad_praia_aluminio = 75; // custa 75 reais
      var cad_praia_plastico = 50; // custa 50 reais
      var cad_praia_ferro = 80; // custa 80 reais

      var cad_jardim_aluminio = 70; // custa 70 reais
      var cad_jardim_plastico = 35; // custa 35 reais
      var cad_jardim_cdjferro = 55; // custa 55 reais

      var desconto = 1; // 100 = 100%
      var desconto2 = 0; // descontos específicos

      if (sel_materiais.value == "ferro" || sel_materiais.value == "plastico") {
         desconto2 = 5;
         // apliacação de desconto do ferro/plastico

      } else {
         desconto2 = 3.5;
         // aplicação de desconto do aluminio
      }

      if (quantidade.value > 50) {
         desconto = 0.97;
         // desconto de 3%
      }

      if (quantidade.value > 0) {

      } else {
         alert ("Valor Inválido");

      } if (sel_cadeiras.value == "praia" && sel_materiais.value == "aluminio") {
         var calculo = cad_praia_aluminio * Number(quantidade.value) * desconto;

      } else if (sel_cadeiras.value == "praia" && sel_materiais.value == "plastico") {
         var calculo = cad_praia_plastico * Number(quantidade.value) * desconto;

      } else if (sel_cadeiras.value == "praia" && sel_materiais.value == "ferro") {
         var calculo = cad_praia_ferro * Number(quantidade.value) * desconto;

      } else if (sel_cadeiras.value == "jardim" && sel_materiais.value == "aluminio") {
         var calculo = cad_jardim_aluminio * Number(quantidade.value) * desconto;

      } else if (sel_cadeiras.value == "jardim" && sel_materiais.value == "plastico") {
         var calculo = cad_jardim_plastico * Number(quantidade.value) * desconto;

      } else if (sel_cadeiras.value == "jardim" && sel_materiais.value == "ferro") {
         var calculo = cad_jardim_ferro * Number(quantidade.value) * desconto;

      } 

      mensagem_conta.innerHTML = `O orçamento para a compra de ${quantidade.value} cadeiras de 
                                  ${sel_cadeiras.value} de ${sel_materiais.value} é R$ ${calculo}.<br>`;

      mensagem_conta2.innerHTML = `Para pagamento a vista o desconto é de ${desconto2}% e seu 
                                  pedido ficará por R$ ${calculo - calculo * (desconto2 / 100)}.`;
   }
</script>